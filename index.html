<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>myKaarma – Interactive Training Checklist</title>

  <!-- Roboto font (requested) -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet"/>

  <!-- External stylesheet (kept) -->
  <link id="main-style" rel="stylesheet" href="style.css" />
  <script>const css=document.getElementById("main-style"); css.href=`style.css?v=${Date.now()}`;</script>

  <!-- Ensure Roboto takes effect even if old CSS lingers -->
  <style>
    html,body{font-family:"Roboto","Inter",system-ui,-apple-system,"Segoe UI",Helvetica,Arial,sans-serif;}
    /* tiny helper so disclaimer text is small + not bold everywhere */
    em{font-style:italic;font-weight:400;font-size:12px;}
  </style>
</head>

<body>
  <!-- === TOP BAR === -->
  <header id="topbar">
    <div class="topbar-content">
      <img src="mykaarma_logo.png" alt="myKaarma logo" class="top-logo"/>
    </div>
  </header>

  <div id="app">
    <!-- === SIDEBAR === -->
    <aside id="sidebar">
      <nav id="sidebar-nav">
        <button type="button" class="nav-btn active" data-target="pretraining">Pre-Training Checklist</button>
        <button type="button" class="nav-btn" data-target="monday-visit">Monday Visit</button>
        <button type="button" class="nav-btn" data-target="dealership-info">Dealership Information</button>
        <button type="button" class="nav-btn" data-target="onsite-trainers">Onsite Trainers & CEM</button>
        <button type="button" class="nav-btn" data-target="training-checklist">Training Checklist</button>
        <button type="button" class="nav-btn" data-target="opcodes-pricing">Opcodes & Pricing</button>
        <button type="button" class="nav-btn" data-target="dms-integration">DMS Integration</button>
        <button type="button" class="nav-btn" data-target="final-onsite">Final Onsite Check</button>
        <button type="button" class="nav-btn" data-target="training-summary">Training Summary</button>
      </nav>
    </aside>

    <!-- === MAIN CONTENT === -->
    <main id="content">

      <!-- ========================================================= -->
      <!-- === PAGE 1 : PRE-TRAINING CHECKLIST === -->
      <!-- ========================================================= -->
      <section id="pretraining" class="page-section active">
        <h1>Pre-Training Checklist</h1>

        <div class="section-block">
          <h2>Salesforce Notes</h2>
          <!-- main questions = 30px indent -->
          <div class="checklist-row" style="padding-left:30px;">
            <label>Did you review the ServiceCart note?</label>
            <select><option></option><option>Yes</option><option>No</option><option style="color:red;">No Information Available</option></select>
          </div>
          <div class="checklist-row" style="padding-left:30px;">
            <label>Did you review the scheduler notes?</label>
            <select><option></option><option>Yes</option><option>No</option><option style="color:red;">No Information Available</option></select>
          </div>
          <div class="checklist-row" style="padding-left:30px;">
            <label>Did you review the deployment notes?</label>
            <select><option></option><option>Yes</option><option>No</option><option style="color:red;">No Information Available</option></select>
          </div>
          <div class="checklist-row" style="padding-left:30px;">
            <label>Did you review sales notes?</label>
            <select><option></option><option>Yes</option><option>No</option><option style="color:red;">No Information Available</option></select>
          </div>
          <div class="checklist-row" style="padding-left:30px;">
            <label>Did you review the contract?</label>
            <select><option></option><option>Yes</option><option>No</option><option style="color:red;">No Information Available</option></select>
          </div>
        </div>

        <div class="section-block">
          <h2>Dealership Personnel</h2>
          <div class="checklist-row">
            <label>Does the number of users appear accurate in the admin tool?
              <br><em>( ratio of one department to another, size of dealership to number of users, etc. )</em>
            </label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>

          <!-- secondary/child items = 120px indent -->
          <div class="checklist-row" style="padding-left:120px;">
            <label>Are all of the managers active users?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>
          <div class="checklist-row" style="padding-left:120px;"><label>Number of advisors?</label><input type="text" /></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Number of techs?</label><input type="text" /></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Number of parts reps?</label><input type="text" /></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Number of BDC reps?</label><input type="text" /></div>

          <!-- not indented -->
          <div class="checklist-row"><label>How many pending users are showing in the admin tool?</label><input type="text"/></div>

          <!-- secondary -->
          <div class="checklist-row" style="padding-left:120px;">
            <label>Is the BDC onsite?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>

          <!-- secondary -->
          <div class="checklist-row" style="padding-left:120px;">
            <label>Do all appropriate users have DMS IDs in the admin tool?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>
          <div class="checklist-row" style="padding-left:120px;">
            <label>Do all advisors have direct dial numbers in the admin tool?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>
        </div>

        <div class="section-block">
          <h2>Location & Buildings</h2>
          <div class="checklist-row">
            <label>After reviewing Google Maps, does it appear that the number of buildings/service drives was relayed to you correctly?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>
        </div>

        <div class="section-block">
          <h2>iOS Devices</h2>
          <div class="checklist-row">
            <label>Do all of the technicians have iOS devices?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>
          <!-- secondary -->
          <div class="checklist-row" style="padding-left:120px;">
            <label>How many iOS devices are they short?</label><input type="text" />
          </div>
        </div>

        <div class="section-block">
          <h2>Communications</h2>
          <div class="checklist-row"><label>Is integration functioning properly? <em>( historic pull, customer information, etc. )</em></label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Are texts and calls reaching the end user? <em>( no errors )</em></label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
        </div>

        <div class="section-block">
          <h2>Payments</h2>
          <div class="checklist-row"><label>Is integration working correctly? <em>( dollar amount, descriptions, etc. )</em></label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Do customer invoices appear correctly?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
        </div>

        <div class="section-block">
          <h2>ServiceCart <em>( DO NOT MAKE CHANGES UNTIL YOU HAVE DISCUSSED THEM WITH THE DEALERSHIP AND UNDERSTAND WHY )</em></h2>
          <div class="checklist-row"><label>Does integration appear to be working correctly? <em>( RO’s pulling correctly, etc. )</em></label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>How many workflows is the dealership using?</label><input type="text"/></div>
          <div class="checklist-row"><label>How many MPI forms is the dealership using?</label><input type="text"/></div>
          <div class="checklist-row"><label>Are creation and prevention rules in place?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Are there assignment rules?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Is there parts integration?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
        </div>

        <div class="section-block">
          <h2>Scheduler <em>( DO NOT MAKE CHANGES UNTIL YOU HAVE DISCUSSED THEM WITH THE DEALERSHIP AND UNDERSTAND WHY )</em></h2>
          <div class="checklist-row"><label>Are the correct opcodes uploaded to correspond with the inspection?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Is the shop divided by teams?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Does the scheduler setup look correct? <em>( hours, capacity, opcodes, labor codes, etc. )</em></label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row"><label>Are there capacity rules?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
        </div>

        <div class="section-block">
          <h2>ServiceConnect <em>( DO NOT MAKE CHANGES UNTIL YOU HAVE DISCUSSED THEM WITH THE DEALERSHIP AND UNDERSTAND WHY )</em></h2>
          <div class="checklist-row"><label>Are the automation rules set up and activated?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 2 : MONDAY VISIT === -->
      <!-- ========================================================= -->
      <section id="monday-visit" class="page-section">
        <h1>Monday Visit</h1>

        <!-- Dealership Expectations (moved to top) -->
        <div class="section-block">
          <h2>Dealership Expectations</h2>
          <div class="checklist-row"><label>Was the dealership prepared for MCI before arrival?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Who is involved in the MCI process?</label><input type="text"/></div>
          <div class="checklist-row"><label>Did you go over the training agenda with the manager and set expectations?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Tech video on every vehicle?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Did you discuss automations with the manager?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row"><label>Did you inform the Service Manager that myKaarma will arrive at 8:00 am on Tuesday & Thursday, and at opening on Wednesday?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row" style="padding-left:120px;"><label>What time will the Service Manager arrive to work each day?</label><input type="text"/></div>
        </div>

        <div class="section-block">
          <h2>Scheduled CEM Call</h2>
          <div class="checklist-row">
            <label>Did you set up the CEM call for Thursday with the service director, service manager, parts manager, and BDC manager (if onsite)?</label>
            <select><option></option><option>Yes</option><option>No</option></select>
          </div>
        </div>

        <div class="section-block">
          <h2>iOS Devices</h2>
          <div class="checklist-row"><label>Do all of the technicians have iOS devices?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row" style="padding-left:120px;"><label>How many iOS devices are they short?</label><input type="text"/></div>
          <div class="checklist-row"><label>Do all of the advisors have iOS devices (if using MCI)?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
          <div class="checklist-row" style="padding-left:120px;"><label>Were all of the devices setup correctly, charged, and ready for training?</label><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></div>
        </div>

        <div class="section-block">
          <h2>Wi-Fi</h2>
          <div class="checklist-row">
            <label>Did the shop and drive pass the myKaarma Wi-Fi speed test?
              <br><em>( Focus on common areas where we see dead spots, e.g., back corners of the shop, far side of the service drive. )</em>
            </label>
            <select><option></option><option>Yes</option><option>No</option><option>Partially</option></select>
          </div>
          <div class="checklist-row" style="padding-left:120px;"><label>What areas failed?</label><input type="text"/></div>
        </div>

        <div class="section-block">
          <h2>Notes</h2>
          <textarea placeholder="Type Monday Visit notes here…"></textarea>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 3 : DEALERSHIP INFORMATION === -->
      <!-- ========================================================= -->
      <section id="dealership-info" class="page-section">
        <h1>Dealership Information</h1>

        <div class="section-block">
          <h2>General Info</h2>
          <div class="checklist-row"><label>Dealer Group</label><input type="text"/></div>
          <div class="checklist-row"><label>Dealership Name</label><input type="text"/></div>
          <div class="checklist-row"><label>DMS</label><input type="text"/></div>
        </div>

        <div class="section-block">
          <h2>Dealership Contacts</h2>
          <div class="checklist-row"><label>Primary POC Name</label><input type="text"/></div>
          <!-- indent primary role/cell/email one level -->
          <div class="checklist-row" style="padding-left:30px;"><label>Primary POC Role</label>
            <select>
              <option></option>
              <option>Service Advisor</option><option>Parts Rep</option><option>Technician</option>
              <option>BDC Rep</option><option>Manager</option><option>Trainer</option>
              <option>CEM</option><option>Product Champion</option>
            </select>
          </div>
          <div class="checklist-row" style="padding-left:30px;"><label>Primary POC Cell</label><input type="text"/></div>
          <div class="checklist-row" style="padding-left:30px;"><label>Primary POC Email</label><input type="text"/></div>

          <!-- no indent for Additional Name -->
          <div class="checklist-row"><label>Additional POC Name</label><input type="text"/></div>
          <div class="checklist-row" style="padding-left:30px;"><label>Additional POC Role</label>
            <select>
              <option></option>
              <option>Service Advisor</option><option>Parts Rep</option><option>Technician</option>
              <option>BDC Rep</option><option>Manager</option><option>Trainer</option>
              <option>CEM</option><option>Product Champion</option>
            </select>
          </div>
          <div class="checklist-row" style="padding-left:30px;"><label>Additional POC Email</label><input type="text"/></div>
          <div class="checklist-row" style="padding-left:30px;">
            <label>Include in communications?</label>
            <select><option></option><option>Yes</option><option>No</option><option>N/A</option></select>
          </div>
        </div>

        <div class="section-block">
          <h2>Additional Comments</h2>
          <textarea placeholder="Type here…"></textarea>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 4 : ONSITE TRAINERS & CEM === -->
      <!-- ========================================================= -->
      <section id="onsite-trainers" class="page-section">
        <h1>Onsite Trainers & CEM</h1>

        <div class="section-block">
          <h2>Onsite Trainers</h2>
          <div class="checklist-row"><label>Lead Trainer</label><input type="text" placeholder="Enter Lead Trainer…"/></div>

          <!-- Additional Trainers: indent four levels and align inputs -->
          <div class="checklist-row" style="padding-left:120px;">
            <label>Additional Trainers</label>
            <div style="display:flex;flex-direction:column;width:220px;">
              <div class="trainer-input" style="position:relative;">
                <input type="text" placeholder="Enter Additional Trainer…" style="width:100%;"/>
                <button type="button" class="add-row" onclick="addTrainerField(this)" style="position:absolute;bottom:-12px;left:-34px;">+</button>
              </div>
            </div>
          </div>
        </div>

        <div class="section-block">
          <h2>Customer Engagement Manager</h2>
          <div class="checklist-row"><label>CEM Assigned to Store</label><input type="text" placeholder="Enter CEM Name…"/></div>
          <div class="checklist-row"><label>When is the dealership’s first agreed upon CEM call?</label><input type="date"/></div>
          <div class="checklist-row">
            <label>Did the CEM handoff call take place while you were onsite?</label>
            <select><option></option><option>Yes</option><option>No</option></select>
            <input type="date" style="margin-left:12px;border-radius:10px;border:1px solid #ccc;padding:6px;"/>
          </div>
        </div>

        <div class="section-block">
          <h2>Dealership Management Engagement <em>( Rate 1–5; 5 is highly involved )</em></h2>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table id="mgmt-engagement" class="training-table">
                <thead>
                  <tr>
                    <th style="width:200px;">Role</th>
                    <th style="width:200px;">Name</th>
                    <th style="width:110px;">Rating</th>
                    <th>Summary of the Manager</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <select>
                        <option></option>
                        <option>FOD</option><option>General Manager</option><option>Service Director</option>
                        <option>Service Manager</option><option>Parts Manager</option><option>Shop Foreman</option>
                      </select>
                    </td>
                    <td><input type="text" placeholder="Name…"/></td>
                    <td>
                      <select class="rating-select">
                        <option></option><option>5</option><option>4</option><option>3</option><option>2</option><option>1</option>
                      </select>
                    </td>
                    <td><input type="text" placeholder="Manager’s engagement, management style, and actions…" style="width:100%;"/></td>
                  </tr>
                  <tr>
                    <td>
                      <select>
                        <option></option>
                        <option>FOD</option><option>General Manager</option><option>Service Director</option>
                        <option>Service Manager</option><option>Parts Manager</option><option>Shop Foreman</option>
                      </select>
                    </td>
                    <td><input type="text" placeholder="Name…"/></td>
                    <td>
                      <select class="rating-select">
                        <option></option><option>5</option><option>4</option><option>3</option><option>2</option><option>1</option>
                      </select>
                    </td>
                    <td><input type="text" placeholder="Manager’s engagement, management style, and actions…" style="width:100%;"/></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target="mgmt-engagement" type="button">+</button></div>
        </div>

        <div class="section-block">
          <h2>Champions & Blockers</h2>
          <div class="checklist-row">
            <label>Champion/s</label>
            <div style="display:flex;flex-direction:column;width:220px;">
              <div class="champion-input" style="position:relative;">
                <input type="text" placeholder="Enter Champion Name & Role…" style="width:100%;"/>
                <button type="button" class="add-row" onclick="addChampionField(this)" style="position:absolute;bottom:-12px;left:-34px;">+</button>
              </div>
            </div>
          </div>

          <div class="checklist-row">
            <label>Blockers</label>
            <div style="display:flex;flex-direction:column;width:220px;">
              <div class="blocker-input" style="position:relative;">
                <input type="text" placeholder="Enter Blocker Name & Role…" style="width:100%;"/>
                <button type="button" class="add-row" onclick="addBlockerField(this)" style="position:absolute;bottom:-12px;left:-34px;">+</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 5 : TRAINING CHECKLIST (ALL TABLES STATIC) === -->
      <!-- ========================================================= -->
      <section id="training-checklist" class="page-section">
        <h1>Training Checklist</h1>

        <!-- Technicians -->
        <div class="section">
          <div class="section-header">Technicians – Checklist</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table class="training-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Name</th>
                    <th>DMS ID</th>
                    <th>Login</th>
                    <th>Workflow</th>
                    <th>Mobile App Menu</th>
                    <th>Search Bar</th>
                    <th>RO Assignment</th>
                    <th>Dispatch</th>
                    <th>RO History</th>
                    <th>Prev. Declines</th>
                    <th>OCR</th>
                    <th>Edit ASR</th>
                    <th>ShopChat / Parts</th>
                    <th>Adding Media</th>
                    <th>Status Change</th>
                    <th>Notifications</th>
                    <th>Desktop Filter</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- 3 seed rows -->
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    <!-- All Yes/No selects -->
                    ${Array.from({length:16}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:16}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:16}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target-next="table" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Additional Comments</h2><textarea placeholder="Type here…"></textarea></div>
        </div>

        <!-- Service Advisors -->
        <div class="section">
          <div class="section-header">Service Advisors – Checklist</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table class="training-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Name</th>
                    <th>DMS ID</th>
                    <th>Login</th>
                    <th>Mobile App Menu</th>
                    <th>MCI</th>
                    <th>Workflow</th>
                    <th>Search Bar</th>
                    <th>RO Assignment</th>
                    <th>DMS History</th>
                    <th>Prev. Declines</th>
                    <th>OCR</th>
                    <th>Edit ASR</th>
                    <th>ShopChat</th>
                    <th>Status Change</th>
                    <th>MPI Send</th>
                    <th>SOP</th>
                    <th>Desktop Filter</th>
                  </tr>
                </thead>
                <tbody>
                  ${Array.from({length:3}).map(()=>`
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:16}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>`).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target-next="table" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Additional Comments</h2><textarea placeholder="Type here…"></textarea></div>
        </div>

        <!-- Parts Representatives (sticky name col retained via CSS) -->
        <div class="section">
          <div class="section-header">Parts Representatives – Checklist</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table class="training-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Name</th>
                    <th>DMS ID</th>
                    <th>Login</th>
                    <th>Web App</th>
                    <th>Workflow</th>
                    <th>Search Bar</th>
                    <th>Take Function</th>
                    <th>DMS History</th>
                    <th>Prev. Declines</th>
                    <th>Parts Tab</th>
                    <th>SOP</th>
                    <th>Edit ASR</th>
                    <th>ShopChat / Parts</th>
                    <th>Status Change</th>
                    <th>Notifications</th>
                    <th>Desktop Filter</th>
                  </tr>
                </thead>
                <tbody>
                  ${Array.from({length:2}).map(()=>`
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:15}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>`).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target-next="table" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Additional Comments</h2><textarea placeholder="Type here…"></textarea></div>
        </div>

        <!-- BDC Representatives (all dropdowns Yes/No) -->
        <div class="section">
          <div class="section-header">BDC Representatives – Checklist</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table class="training-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Name</th>
                    <th>Scheduler</th>
                    <th>Declined Services</th>
                    <th>ServiceConnect</th>
                    <th>Call Routing</th>
                    <th>Desktop Filter</th>
                  </tr>
                </thead>
                <tbody>
                  ${Array.from({length:2}).map(()=>`
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:5}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>`).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target-next="table" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Additional Comments</h2><textarea placeholder="Type here…"></textarea></div>
        </div>

        <!-- Pickup & Delivery Dispatcher - NEW -->
        <div class="section">
          <div class="section-header">Pickup & Delivery Dispatcher – Checklist</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table class="training-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Name</th>
                    <th>Creating Trips</th>
                    <th>Customer Tab</th>
                    <th>Editing Trips</th>
                    <th>Adding Driver</th>
                    <th>Adding Loaners</th>
                    <th>Drivers View / Mobile App</th>
                    <th>Global View</th>
                  </tr>
                </thead>
                <tbody>
                  ${Array.from({length:2}).map(()=>`
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:7}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>`).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target-next="table" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Additional Comments</h2><textarea placeholder="Type here…"></textarea></div>
        </div>

        <!-- Pickup & Delivery Drivers (remove DMS ID; Login -> App Login) -->
        <div class="section">
          <div class="section-header">Pickup & Delivery Drivers – Checklist</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table class="training-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Name</th>
                    <th>App Login</th>
                    <th>PU&D</th>
                    <th>Notifications</th>
                  </tr>
                </thead>
                <tbody>
                  ${Array.from({length:2}).map(()=>`
                  <tr>
                    <td><input type="checkbox" class="verify"/></td>
                    <td><input type="text" placeholder="Name"/></td>
                    ${Array.from({length:3}).map(()=>`<td><select><option></option><option>Yes</option><option>No</option></select></td>`).join('')}
                  </tr>`).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target-next="table" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Additional Comments</h2><textarea placeholder="Type here…"></textarea></div>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 6 : OPCODES & PRICING (EXPANDED ROWS) === -->
      <!-- ========================================================= -->
      <section id="opcodes-pricing" class="page-section">
        <h1>Opcodes & Pricing</h1>

        <!-- Setup table -->
        <div class="section">
          <div class="section-header">Opcodes Setup</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table id="opcodes-setup" class="training-table draggable-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">Service</th>
                    <th>Opcode</th>
                    <th>Hours</th>
                    <th>Customer Pay Labor Rate</th>
                    <th>Fixed Customer Pay Labor Rate</th>
                    <th>Labor Charged</th>
                    <th>Set Parts Charged</th>
                    <th>Parts Retail</th>
                    <th>ServiceCart</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- 10 seed rows -->
                  ${[
                    "2 Wheel Alignment","Brake Fluid Exchange","Battery Replacement","Coolant Exchange","Transmission Service",
                    "AC Recharge","Tire Rotation","4 Wheel Alignment","Brake Pad Replacement (Front)","Brake Pad Replacement (Rear)"
                  ].map(s=>`
                    <tr>
                      <td><input type="checkbox" class="verify"></td>
                      <td><input type="text" value="${s}"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><select><option></option><option>Yes</option><option>No</option><option>N/A</option></select></td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target="opcodes-setup" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Notes</h2><textarea placeholder="Type here…"></textarea></div>
        </div>

        <!-- MPI Opcodes -->
        <div class="section">
          <div class="section-header">MPI Opcodes</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table id="mpi-opcodes" class="training-table draggable-table">
                <thead>
                  <tr>
                    <th></th>
                    <th style="width:260px;">MPI Line</th>
                    <th>Opcode</th>
                    <th>MPI Line #</th>
                    <th>Preselected Opcode</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- 10 seed rows -->
                  ${[
                    "Exterior Lights","Front Brake Pads","Rear Brake Pads","Air Filter","Cabin Filter",
                    "Wiper Blades","Tire Tread","Battery Test","Coolant Level","Transmission Fluid"
                  ].map(label=>`
                    <tr>
                      <td><input type="checkbox" class="verify"></td>
                      <td><input type="text" value="${label}"></td>
                      <td><input type="text"></td>
                      <td><input type="text"></td>
                      <td><select><option></option><option>Yes</option><option>No</option></select></td>
                    </tr>
                  `).join('')}
                </tbody>
              </table>
            </div>
          </div>
          <div class="table-footer"><button class="add-row" data-target="mpi-opcodes" type="button">+</button></div>
          <div class="section-block comment-box"><h2>Notes</h2><textarea placeholder="Type here…"></textarea></div>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 7 : DMS INTEGRATION === -->
      <!-- ========================================================= -->
      <section id="dms-integration" class="page-section">
        <h1>DMS Integration</h1>

        <div class="section">
          <div class="section-header">Push-Based DMS (myKaarma → DMS)</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table id="dms-push" class="training-table">
                <thead>
                  <tr>
                    <th style="width:280px;">Integration Type</th>
                    <th>Customer Pull</th><th>Customer Push</th><th>Vehicle Pull</th><th>Vehicle Push</th>
                    <th>Appointment Pull</th><th>Appointment Push</th><th>RO Pull</th><th>RO Push</th>
                    <th>Writeback</th><th>RO Creation</th><th>Parts Invoices</th><th>Parts Availability</th>
                    <th>Special Orders</th><th>Opcodes</th><th>Historical RO</th><th>Historical Customer</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Reynolds</td>
                    <td>Auto</td><td>On Demand</td><td>Auto</td><td>On Demand</td>
                    <td>Auto</td><td>On Demand</td><td>Auto</td><td>N/A</td>
                    <td>On Demand</td><td>Auto</td><td>On Demand</td><td>Auto</td>
                    <td>Nightly</td><td>Yes</td><td>Yes</td><td>Yes</td>
                  </tr>
                  <tr>
                    <td>Automate</td>
                    <td>Auto</td><td>N/A</td><td>Auto</td><td>N/A</td>
                    <td>Auto</td><td>N/A</td><td>Auto</td><td>N/A</td>
                    <td>N/A</td><td>N/A</td><td>N/A</td><td>N/A</td>
                    <td>N/A</td><td>N/A</td><td>N/A</td><td>N/A</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="section">
          <div class="section-header">Pull-Based DMS (DMS → myKaarma)</div>
          <div class="table-container">
            <div class="scroll-wrapper">
              <table id="dms-pull" class="training-table">
                <thead>
                  <tr>
                    <th style="width:280px;">DMS Provider</th>
                    <th>Customer Pull</th><th>Customer Push</th><th>Vehicle Pull</th><th>Vehicle Push</th>
                    <th>Appointment Pull</th><th>Appointment Push</th><th>RO Pull</th><th>RO Push</th>
                    <th>Writeback</th><th>RO Creation</th><th>Parts Invoices</th><th>Parts Availability</th>
                    <th>Special Orders</th><th>Opcodes</th><th>Historical RO</th><th>Historical Customer</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>CDK</td>
                    <td>15 min</td><td>On Demand</td><td>With RO</td><td>On Demand</td>
                    <td>15 min</td><td>On Demand</td><td>5 min</td><td>On Demand</td>
                    <td>On Demand</td><td>15 min</td><td>On Demand</td><td>15 min</td>
                    <td>Nightly</td><td>Yes</td><td>Yes</td><td>Yes</td>
                  </tr>
                  <tr>
                    <td>Tekion</td>
                    <td>With RO</td><td>On Demand</td><td>With RO</td><td>On Demand</td>
                    <td>5 min</td><td>On Demand</td><td>5 min</td><td>Planned</td>
                    <td>Planned</td><td>Planned</td><td>Planned</td><td>—</td>
                    <td>Planned</td><td>Planned</td><td>Yes</td><td>N/A</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="section-block comment-box">
          <h2>Integration Notes</h2>
          <textarea placeholder="Type integration notes here…"></textarea>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 8 : FINAL ONSITE CHECK === -->
      <!-- ========================================================= -->
      <section id="final-onsite" class="page-section">
        <h1>Final Onsite Check</h1>

        <div class="section-block">
          <h2>Final Training Count</h2>
          <div class="checklist-row">
            <label>Was everyone at the dealership trained?</label>
            <select id="trained-all"><option></option><option>Yes</option><option>No</option></select>
          </div>
          <textarea id="untrained-notes" placeholder="If No, list names, roles, and reason not trained…" style="display:none;"></textarea>
        </div>

        <div class="section-block">
          <h2>Support Tickets</h2>
          <div class="checklist-row">
            <label>Are there any open support tickets?</label>
            <select id="tickets"><option></option><option>Yes</option><option>Tier 2</option><option>No</option></select>
          </div>
          <textarea id="ticket-details" placeholder="If Yes or Tier 2, enter ticket number(s) and brief description…" style="display:none;"></textarea>
        </div>

        <div class="section-block">
          <h2>Automations</h2>
          <div class="checklist-row"><label>Is automated welcome text active?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row"><label>Is automated payment request active?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row"><label>Is automated appointment reminder active?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row"><label>Is automated follow-up text and email active and manager-approved?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row"><label>Is the automated sending of tech video and MPI turned on?</label><select><option></option><option>Yes</option><option>No</option></select></div>
          <div class="checklist-row"><label>Is ServiceConnect setup to send the appropriate messages?</label><select><option></option><option>Yes</option><option>No</option></select></div>
        </div>
      </section>

      <!-- ========================================================= -->
      <!-- === PAGE 9 : TRAINING SUMMARY === -->
      <!-- ========================================================= -->
      <section id="training-summary" class="page-section">
        <h1>Training Summary</h1>

        <div class="section-block">
          <h2>Overall Training Summary</h2>
          <textarea id="summary-overall" placeholder="Type overall training summary here…"></textarea>
        </div>

        <div class="section-block">
          <h2>Information for CEM</h2>
          <textarea id="summary-cem" placeholder="Auto-fills from Onsite Trainers & CEM page…"></textarea>
        </div>

        <div class="section-block">
          <h2>Champions & Blockers</h2>
          <div class="checklist-row">
            <label>Champions</label>
            <textarea id="summary-champions" placeholder="Auto-fills from Onsite Trainers & CEM page…"></textarea>
          </div>
          <div class="checklist-row">
            <label>Blockers</label>
            <textarea id="summary-blockers" placeholder="Auto-fills from Onsite Trainers & CEM page…"></textarea>
          </div>
        </div>

        <div class="section-block">
          <h2>Pre-Training & Monday Visit Notes</h2>
          <textarea id="summary-pretraining" placeholder="Auto-fills from Pre-Training & Monday Visit pages…"></textarea>
        </div>

        <div class="section-block">
          <h2>End of Day Training Summary – Tuesday</h2>
          <textarea id="summary-tuesday" placeholder="Auto-fills from Training Checklist page…"></textarea>
        </div>

        <div class="section-block">
          <h2>End of Day Training Summary – Wednesday</h2>
          <textarea id="summary-wednesday" placeholder="Type Wednesday summary here…"></textarea>
        </div>

        <div class="section-block">
          <h2>Opcodes, Pricing & Integrations Notes</h2>
          <textarea id="summary-opcodes" placeholder="Auto-fills from Opcodes & Pricing and DMS Integration pages…"></textarea>
        </div>
      </section>

    </main>
  </div>

  <!-- === FLOATING SAVE BUTTON === -->
  <button id="pdfButton" class="floating-btn">Save as PDF</button>

  <!-- === Minimal Inline JS so things work even without script.js === -->
  <script>
  // Sidebar nav
  (function(){
    const nav=document.getElementById('sidebar-nav');
    const sections=[...document.querySelectorAll('.page-section')];
    nav.addEventListener('click',e=>{
      const btn=e.target.closest('.nav-btn'); if(!btn) return;
      const id=btn.dataset.target; const tgt=document.getElementById(id); if(!tgt) return;
      sections.forEach(s=>s.classList.remove('active'));
      tgt.classList.add('active');
      nav.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      window.scrollTo({top:0,behavior:'smooth'});
    });
  })();

  // + button to add row to nearest table (clones first row)
  document.addEventListener('click',e=>{
    if(!e.target.classList.contains('add-row')) return;
    const btn=e.target;
    const tableId=btn.dataset.target;
    let table;
    if(tableId){ table=document.getElementById(tableId); }
    else { // find the previous table in this section
      table=btn.closest('.section').querySelector('table');
    }
    if(!table) return;
    const first=table.querySelector('tbody tr'); if(!first) return;
    const clone=first.cloneNode(true);
    clone.querySelectorAll('input[type="text"]').forEach(i=>i.value='');
    clone.querySelectorAll('input[type="checkbox"]').forEach(c=>c.checked=false);
    clone.querySelectorAll('select').forEach(s=>{s.selectedIndex=0;s.style.backgroundColor='#f2f2f2';});
    table.querySelector('tbody').appendChild(clone);
  });

  // color coding for Yes/No + rating scale + iOS ownership options
  document.addEventListener('change',e=>{
    if(e.target.tagName!=='SELECT') return;
    const val=e.target.value;
    const map={
      'Yes':'#c9f7c0',
      'No':'#ffb3b3',
      'N/A':'#f2f2f2',
      'Yes, each has their own':'#c9f7c0',
      'Yes, but they are sharing':'#fff8b3'
    };
    if(e.target.classList.contains('rating-select')){
      // 5/4 green, 3 yellow, 2/1 red
      const v=val.trim();
      e.target.style.backgroundColor = (v==='5'||v==='4') ? '#c9f7c0' : (v==='3' ? '#fff8b3' : (v==='2'||v==='1' ? '#ffb3b3' : '#f2f2f2'));
      return;
    }
    e.target.style.backgroundColor = map[val] || '#f2f2f2';
  });

  // verify checkbox highlight
  document.addEventListener('change',e=>{
    if(!e.target.classList.contains('verify')) return;
    const td=e.target.closest('td');
    if(td) td.style.backgroundColor = e.target.checked ? '#fff7ed' : '';
  });

  // PDF save (active section only)
  (function(){
    const btn=document.getElementById('pdfButton');
    if(!btn) return;
    btn.addEventListener('click',()=>{
      const active=document.querySelector('.page-section.active');
      import('https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js')
        .then((h)=>h.default().from(active).save(`${active.id}.pdf`));
    });
  })();
  </script>
</body>
</html>

