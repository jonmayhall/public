<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>myKaarma – Interactive Training Checklist</title>
<link rel="stylesheet" href="style.css" />
</head>
<body>
<div id="app">
  <aside id="sidebar">
    <div class="sidebar-header">
      <img src="mykaarma_logo.png" alt="myKaarma logo" class="logo" />
    </div>
    <nav>
      <button class="nav-btn" data-target="pretraining">Pre-Training Checklist</button>
      <button class="nav-btn" data-target="dealership-info">Dealership Information</button>
      <button class="nav-btn" data-target="training-checklist">Training Checklist</button>
    </nav>
  </aside>

  <main id="content">
    <!-- === PRE-TRAINING CHECKLIST === -->
    <section id="pretraining" class="page-section active">
      <h1>Pre-Training Checklist</h1>
      <div class="section-block">
        <h2>Handoff Notes</h2>
        <div class="checklist-row"><label>Deployment handoff?</label><select><option></option><option>Yes</option><option>No</option></select></div>
        <div class="checklist-row"><label>ServiceCart handoff?</label><select><option></option><option>Yes</option><option>No</option></select></div>
      </div>
    </section>

    <!-- === DEALERSHIP INFORMATION === -->
    <section id="dealership-info" class="page-section">
      <h1>Dealership Information</h1>
      <div class="section-block">
        <h2>Wi-Fi Information</h2>
        <div class="checklist-row"><label>Wi-Fi Name</label><input type="text" /></div>
        <div class="checklist-row"><label>Wi-Fi Password</label><input type="text" /></div>
      </div>
    </section>

    <!-- === TRAINING CHECKLIST === -->
    <section id="training-checklist" class="page-section">
      <h1>Training Checklist</h1>

      <!-- Table Template -->
      <div class="table-wrapper">
        <div class="section-header">Technicians – Checklist</div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th class="sticky-col">Name</th>
                <th>DMS ID</th><th>Login</th><th>Workflow</th><th>Mobile App Menu</th>
                <th>Search Bar</th><th>RO Assignment</th><th>Dispatch</th><th>RO History</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td class="sticky-col"><input type="text" placeholder="Name" /></td>
                <td><input type="text" /></td>
                <td><select><option></option><option>Yes</option><option>No</option><option>Not Trained</option></select></td>
                <td><select><option></option><option>Yes</option><option>No</option></select></td>
                <td><select><option></option><option>Yes</option><option>No</option></select></td>
                <td><select><option></option><option>Yes</option><option>No</option></select></td>
                <td><select><option></option><option>Yes</option><option>No</option></select></td>
                <td><select><option></option><option>Yes</option><option>No</option></select></td>
                <td><select><option></option><option>Yes</option><option>No</option></select></td>
              </tr>
            </tbody>
          </table>
          <button class="add-row">+</button>
        </div>

        <!-- Notes -->
        <div class="notes-block">
          <button class="toggle-notes">▾</button>
          <h2>Additional Comments</h2>
          <textarea placeholder="Type here..."></textarea>
        </div>
      </div>
    </section>
  </main>
</div>

<button id="pdfButton" class="floating-btn">Save as PDF</button>

<script>
// Navigation
document.querySelectorAll(".nav-btn").forEach(btn=>{
  btn.onclick=()=>{
    const t=btn.dataset.target;
    document.querySelectorAll(".page-section").forEach(s=>s.classList.remove("active"));
    document.getElementById(t).classList.add("active");
  };
});

// Add row
document.querySelectorAll(".add-row").forEach(b=>{
  b.onclick=()=>{
    const table=b.closest(".table-container").querySelector("tbody");
    const clone=table.rows[0].cloneNode(true);
    clone.querySelectorAll("input").forEach(i=>i.value="");
    clone.querySelectorAll("select").forEach(s=>s.selectedIndex=0);
    table.appendChild(clone);
  };
});

// Notes toggle
document.querySelectorAll(".toggle-notes").forEach(btn=>{
  btn.onclick=()=>{
    const block=btn.closest(".notes-block");
    block.classList.toggle("collapsed");
    btn.textContent=block.classList.contains("collapsed")?"▴":"▾";
  };
});

// Auto-grow textareas
document.querySelectorAll("textarea").forEach(t=>{
  t.addEventListener("input",()=>{
    t.style.height="auto";
    t.style.height=t.scrollHeight+"px";
  });
});

// Save as PDF
document.getElementById("pdfButton").onclick=()=>{
  import("https://cdn.jsdelivr.net/npm/html2pdf.js@0.10.1/dist/html2pdf.bundle.min.js").then(pdf=>{
    pdf.default().from(document.querySelector(".page-section.active")).save();
  });
};
</script>
</body>
</html>
