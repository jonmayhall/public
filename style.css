/* ==== STICKY COLUMN STABILIZER (no visual changes) ==== */

/* Use separate borders so sticky columns don't inherit collapsed quirks */
.training-table {
  border-collapse: separate !important;
  border-spacing: 0 !important;
}

/* Make sticky cells a stable positioning context */
.training-table th, .training-table td { position: relative; }

/* 1) First sticky col (checkbox) - keep width, remove right border */
.training-table th:first-child,
.training-table td:first-child {
  left: 0;
  z-index: 6;               /* above the row cells */
  border-right: none !important;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

/* Add a faux divider so it still looks like a border */
.training-table th:first-child::after,
.training-table td:first-child::after {
  content: "";
  position: absolute;
  top: 0; right: 0;
  width: 1px; height: 100%;
  background: var(--border);
  pointer-events: none;
}

/* 2) Second sticky col (Name/Service/MPI) - exact offset after col 1 */
.training-table th:nth-child(2),
.training-table td:nth-child(2) {
  left: 40px;               /* = first column width */
  z-index: 7;               /* above col 1 so the seam is clean */
  border-right: none !important;
  -webkit-transform: translateZ(0);
  transform: translateZ(0);
}

/* Faux divider for the second sticky column too */
.training-table th:nth-child(2)::after,
.training-table td:nth-child(2)::after {
  content: "";
  position: absolute;
  top: 0; right: 0;
  width: 1px; height: 100%;
  background: var(--border);
  pointer-events: none;
}

/* Ensure header cells in sticky columns keep the light-orange color */
.training-table thead th:first-child,
.training-table thead th:nth-child(2) {
  background: var(--light-orange) !important;
  color: #fff !important;
  z-index: 8;               /* header above body sticky cells */
}

/* Body cells in sticky columns remain white */
.training-table tbody td:first-child,
.training-table tbody td:nth-child(2) {
  background: #fff !important;
}

/* Keep the known widths for sticky columns consistent */
.training-table th:first-child,
.training-table td:first-child {
  width: 40px; min-width: 40px; max-width: 40px;
}
.training-table th:nth-child(2),
.training-table td:nth-child(2) {
  width: 260px; min-width: 260px; max-width: 260px;
}

/* Optional: tighten non-sticky columns to fit header text without growing */
.training-table th:not(:first-child):not(:nth-child(2)),
.training-table td:not(:first-child):not(:nth-child(2)) {
  width: auto;
  min-width: max-content;
  white-space: nowrap;
  padding: 6px 8px;
}

/* Inputs never push columns wider */
.training-table input[type="text"],
.training-table select {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
}
/* ====== REVERT TO SAFE TABLE BEHAVIOR ====== */
.training-table {
  border-collapse: collapse !important;  /* back to normal */
  border-spacing: 0 !important;
}

/* reset any previous positioning hacks */
.training-table th, .training-table td { position: static; }

/* keep your sticky columns + widths exactly as before */
.training-table th:first-child,
.training-table td:first-child {
  position: sticky; left: 0; z-index: 5;
  width: 40px; min-width: 40px; max-width: 40px;
  background: #fff;
}
.training-table th:nth-child(2),
.training-table td:nth-child(2) {
  position: sticky; left: 40px; z-index: 5;
  width: 260px; min-width: 260px; max-width: 260px;
  background: #fff;
}

/* ====== FIX 1: "white square" seam in header between col 1 & 2 ====== */
.training-table thead th { z-index: 6; } /* headers above body */
.training-table thead th:first-child,
.training-table thead th:nth-child(2) {
  background: var(--light-orange) !important;   /* same as other headers */
  color: #fff !important;
}

/* ====== FIX 2: subtle divider without border (prevents column 2 wiggle) ====== */
/* remove the right border on the two sticky columns … */
.training-table th:first-child,
.training-table td:first-child,
.training-table th:nth-child(2),
.training-table td:nth-child(2) {
  border-right: none !important;
}
/* …and draw a 1px divider inside column 2 instead (no layout shift) */
.training-table th:nth-child(2),
.training-table td:nth-child(2) {
  box-shadow: inset -1px 0 0 0 var(--border);
}

/* ====== tighten non-sticky columns so they fit header text, not wider ====== */
.training-table th:not(:first-child):not(:nth-child(2)),
.training-table td:not(:first-child):not(:nth-child(2)) {
  width: auto;
  white-space: nowrap;
  padding: 6px 8px;
}

/* inputs never push columns wider */
.training-table input[type="text"],
.training-table select {
  width: 100%;
  max-width: 100%;
  box-sizing: border-box;
  display: block;
}
