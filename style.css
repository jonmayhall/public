/* =======================================================
   myKaarma Interactive Training Checklist Stylesheet
   ======================================================= */

/* === COLOR VARIABLES === */
:root{
  --orange:#f36f21;
  --light-orange:#f8b17b;
  --gray-bg:#d7d7d7;
  --card-bg:#fff;
  --border:#dcdcdc;
  --ink:#222;
  --radius:16px;
  --shadow:0 2px 8px rgba(0,0,0,.1);
}

/* === BASE PAGE STRUCTURE === */
html,body{
  margin:0;
  font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
  background:var(--gray-bg);
  color:var(--ink);
  overflow-x:hidden;
}

/* === TOP BAR === */
#topbar{
  background:linear-gradient(90deg,#000 0%,#333 100%);
  height:70px; display:flex; align-items:center; justify-content:center;
  box-shadow:0 2px 10px rgba(0,0,0,.25);
  position:fixed; inset:0 0 auto 0; z-index:20;
}
.topbar-content{width:100%; max-width:1400px; display:flex; align-items:center; padding-left:20px;}
.top-logo{height:42px; object-fit:contain}

/* === APP LAYOUT === */
#app{display:flex; min-height:100vh; margin-top:70px; overflow-x:hidden}

/* =======================================================
   SIDEBAR
   ======================================================= */
#sidebar{
  background:rgba(255,255,255,.92);
  backdrop-filter:blur(6px);
  border-right:1px solid var(--border);
  width:190px; padding:20px 8px;
  box-shadow:var(--shadow);
  position:fixed; top:70px; bottom:0; overflow-y:auto; z-index:10;
}
#sidebar nav{display:flex; flex-direction:column; gap:6px;}
.nav-btn{
  background:none; border:none; padding:10px 12px; font-size:14px; text-align:left;
  border-radius:var(--radius); cursor:pointer; transition:.2s; color:var(--ink);
}
.nav-btn:hover,.nav-btn.active{background:#fff3eb; color:var(--orange); font-weight:600}

/* =======================================================
   MAIN CONTENT AREA
   ======================================================= */
main{flex:1; margin-left:190px; padding:30px 40px; box-sizing:border-box; background:var(--gray-bg)}

/* === PAGE SECTIONS === */
.page-section{
  display:none; background:var(--card-bg); border-radius:var(--radius);
  box-shadow:var(--shadow); padding:28px 32px; margin:0 auto 50px; width:100%; max-width:1250px; box-sizing:border-box;
}
.page-section.active{display:block}
h1{color:var(--orange); margin:0 0 18px 0; font-size:24px; line-height:1.2}

/* =======================================================
   SECTION BLOCKS AND ROWS
   ======================================================= */
.section{margin-bottom:28px; position:relative}

/* lighter orange row header (your request) */
.section-header{
  background:var(--light-orange); color:#fff; font-weight:600;
  padding:10px 16px; font-size:15px; line-height:1.15;
  border-radius:var(--radius) var(--radius) 0 0;
  border:1px solid var(--light-orange);
}

/* === CHECKLIST BLOCKS === */
.section-block{
  background:#fff; border-radius:var(--radius); box-shadow:var(--shadow);
  margin-bottom:20px; overflow:hidden; border:1px solid var(--border);
}
.section-block h2{
  background:var(--orange); color:#fff; margin:0; padding:10px 16px; font-size:15px; font-weight:600;
}

/* === CHECKLIST ROWS === */
.checklist-row{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 16px; border-top:1px solid var(--border);
}
.section-block .checklist-row:first-of-type{border-top:1px solid var(--border)}
.checklist-row label{flex:1; font-size:14px; padding-right:20px}
.checklist-row input,.checklist-row select{
  width:220px; padding:8px 10px; border-radius:10px; border:1px solid var(--border); background:#f4f4f4;
}

/* === TEXTAREA === */
textarea{
  width:calc(100% - 32px); margin:16px; padding:12px; border-radius:12px;
  border:1px solid var(--border); background:#fafafa; resize:none; overflow:hidden; font-family:inherit;
}

/* =======================================================
   TABLES
   ======================================================= */

/* The table frame (top half) */
.table-container{
  width:100%; background:#fff; border:1px solid var(--border);
  border-bottom:none; border-radius:var(--radius) var(--radius) 0 0;
  box-shadow:var(--shadow); overflow:hidden; position:relative; z-index:0;
}

/* Scroll area with inner top/bottom borders to visually connect table */
.scroll-wrapper{
  position:relative; display:block; width:100%;
  max-height:340px; overflow:auto; background:#fff;
  border-top:1px solid var(--border); border-bottom:1px solid var(--border);
  scrollbar-color:#ccc transparent; scrollbar-width:thin;
}

/* The footer is the bottom half, finishes the rounded border
   This guarantees it never “slides under” later content */
.table-footer{
  width:100%; background:#fff; border:1px solid var(--border); border-top:none;
  border-radius:0 0 var(--radius) var(--radius);
  text-align:left; padding:8px 12px; margin:0; box-sizing:border-box; position:relative; z-index:0;
}

/* Keep notes visually separate below the finished table */
.section-block.comment-box{
  margin-top:14px; border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden;
}

/* === TABLE CORE === */
.training-table{border-collapse:separate; border-spacing:0; width:max-content; min-width:100%}

.training-table th,
.training-table td{
  white-space:nowrap; text-align:center; padding:8px 10px; font-size:13px;
  border-right:1px solid var(--border); border-bottom:1px solid var(--border);
  background-clip:padding-box;
}

/* Column header (lighter orange), sticky at top */
.training-table th{
  background:var(--light-orange); color:#fff; font-weight:600;
  position:sticky; top:0; z-index:3; transition:background .2s;
}
.training-table th:hover{background:#f49c56}

/* First two columns sticky (global tables) */
.training-table th:first-child,
.training-table td:first-child{
  position:sticky; left:0; z-index:4; background:#fff; /* checkbox col stays white */
}
.training-table th:nth-child(2),
.training-table td:nth-child(2){
  position:sticky; left:60px; z-index:4; background:#fff; /* Name/Service col stays white */
}

/* Row striping & drag visuals */
.training-table tr:nth-child(odd){background:#fff}
.training-table tr:nth-child(even){background:#fafafa}

/* Table inputs */
.training-table input[type="text"],
.training-table select{
  width:100%; max-width:280px;
  padding:6px 8px; border-radius:8px; border:1px solid var(--border); background:#f2f2f2; color:var(--ink); font-size:13px; font-family:inherit;
}
.training-table input[type="text"]:focus,
.training-table select:focus{border-color:var(--orange); box-shadow:0 0 3px rgba(243,111,33,.4); outline:none; background:#fff9f5}

/* Name/Service/MPI text boxes should expand fully inside cell */
.training-table td:nth-child(2) input[type="text"]{max-width:none}

/* Checkboxes */
.verify{accent-color:var(--orange); transform:scale(1.1)}

/* Footer + button */
.add-row{
  background:var(--orange); color:#fff; border:none; border-radius:50%;
  width:26px; height:26px; font-size:14px; cursor:pointer; transition:.2s; vertical-align:middle;
}
.add-row:hover{background:#ff8b42; transform:scale(1.05)}

/* =======================================================
   DMS INTEGRATION — ONLY FIRST COLUMN STICKY
   ======================================================= */

/* Remove sticky 2nd column on DMS tables only */
#dms-integration .training-table th:nth-child(2),
#dms-integration .training-table td:nth-child(2){
  position:static; left:auto; z-index:auto; background:inherit;
}

/* Keep ONLY first column sticky on DMS page */
#dms-integration .training-table th:first-child,
#dms-integration .training-table td:first-child{
  position:sticky; left:0; z-index:4; background:#fff;
}

/* Give DMS tables a tad more height for readability */
#dms-integration .scroll-wrapper{max-height:420px}
#dms-integration .training-table td{height:36px; vertical-align:middle}

/* =======================================================
   FLOATING BUTTON (PDF EXPORT)
   ======================================================= */
.floating-btn{
  position:fixed; top:90px; right:25px; background:var(--orange); color:#fff; border:none;
  border-radius:var(--radius); padding:10px 18px; font-size:14px; cursor:pointer; box-shadow:var(--shadow); transition:.2s;
}
.floating-btn:hover{background:#ff8848}

/* =======================================================
   RESPONSIVE DESIGN
   ======================================================= */
@media (max-width:900px){
  #sidebar{width:150px}
  main{margin-left:150px; padding:20px}
}
@media (max-width:600px){
  #sidebar{display:none}
  main{margin-left:0; padding:20px}
}
