/* =======================================================
   myKaarma – Interactive Training Checklist (UNIFORM)
   ======================================================= */
:root {
  --orange: #f36f21;
  --light-orange: #f8b17b;         /* header cells */
  --gray-bg: #d7d7d7;
  --card-bg: #fff;
  --border: #dcdcdc;
  --ink: #222;
  --radius: 16px;
  --shadow: 0 2px 8px rgba(0,0,0,0.1);
}

/* ==== Base / Layout ======================================================= */
html, body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: var(--gray-bg);
  color: var(--ink);
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

#topbar {
  background: linear-gradient(90deg, #000 0%, #333 100%);
  height: 70px; display: flex; align-items: center; justify-content: center;
  box-shadow: 0 2px 10px rgba(0,0,0,.25);
  position: fixed; top: 0; left: 0; right: 0; z-index: 20;
}
.topbar-content { width: 100%; max-width: 1400px; display: flex; align-items: center; padding-left: 20px; }
.top-logo { height: 42px; object-fit: contain; }

#app { display: flex; min-height: 100vh; margin-top: 70px; overflow-x: hidden; }

/* ==== Sidebar ============================================================= */
#sidebar {
  background: rgba(255,255,255,.92); backdrop-filter: blur(6px);
  border-right: 1px solid var(--border);
  width: 190px; padding: 20px 8px; box-shadow: var(--shadow);
  position: fixed; top: 70px; bottom: 0; overflow-y: auto;
}
#sidebar nav { display: flex; flex-direction: column; gap: 6px; }
.nav-btn {
  background: none; border: none; padding: 10px 12px; font-size: 14px; text-align: left;
  border-radius: var(--radius); cursor: pointer; transition: .2s; color: var(--ink);
}
.nav-btn:hover, .nav-btn.active { background: #fff3eb; color: var(--orange); font-weight: 600; }

/* ==== Main ================================================================ */
main { flex: 1; margin-left: 190px; padding: 30px 40px; box-sizing: border-box; background: var(--gray-bg); }
.page-section {
  display: none; background: var(--card-bg); border-radius: var(--radius);
  box-shadow: var(--shadow); padding: 28px 32px; margin: 0 auto 50px; width: 100%; max-width: 1250px;
}
.page-section.active { display: block; }
h1 { color: var(--orange); margin: 0 0 20px; }

/* ==== Section Blocks (forms/notes) ======================================= */
.section-block { background:#fff; border-radius: var(--radius); box-shadow: var(--shadow); margin-bottom: 25px; overflow: hidden; }
.section-block h2 { background: var(--orange); color: #fff; margin: 0; padding: 10px 16px; font-size: 16px; font-weight: 600; }

.checklist-row {
  display:flex; align-items:center; justify-content:space-between;
  padding:10px 16px; border-bottom:1px solid var(--border);
}
.checklist-row label { flex:1; font-size:14px; padding-right:20px; }
.checklist-row input, .checklist-row select {
  width: 220px; padding: 8px 10px; border-radius:10px; border:1px solid var(--border); background:#f4f4f4;
}
textarea {
  width: calc(100% - 32px); margin: 16px; padding: 12px;
  border-radius: 12px; border: 1px solid var(--border); background: #fafafa; resize: none; overflow: hidden; font-family: inherit;
}

/* ==== Table Sections (UNIFORM SKIN) ====================================== */
.section { margin-bottom: 32px; }

/* Section header (orange bar above table) */
.section-header {
  background: var(--orange); color:#fff; font-weight:600; padding:10px 16px;
  border-radius: var(--radius) var(--radius) 0 0; border: 1px solid var(--orange); margin-bottom: 0;
}

/* Container around the table (border joins with footer) */
.table-container {
  width:100%; background:#fff; box-shadow: var(--shadow);
  border-left:1px solid var(--border); border-right:1px solid var(--border);
  border-bottom: none; border-top: none; border-radius: 0;
  overflow: hidden;
}

/* Scrolling layer (creates both H/V scroll when needed) */
.scroll-wrapper {
  position: relative; display:block; width:100%;
  overflow-x: auto !important; overflow-y: auto !important;
  max-height: 340px;
  border-top: 1px solid var(--border); background:#fff;
  -webkit-overflow-scrolling: touch; scrollbar-color:#ccc transparent; scrollbar-width: thin;
}

/* The table itself (ONE canonical style for ALL tables) */
.training-table {
  border-collapse: separate; border-spacing: 0;               /* keeps borders clean */
  min-width: 1100px; width: max-content;                      /* force horizontal scroll when wide */
  table-layout: auto;
  font-size: 13px;
}

/* Header cells (sticky) */
.training-table thead th {
  background: var(--light-orange);
  color: #fff; font-weight: 600;
  position: sticky; top: 0; z-index: 3;                       /* stay above body cells */
  white-space: nowrap; text-align: center; padding: 10px 12px;
  border-right: 1px solid var(--border); border-bottom: 1px solid var(--border);
}
.training-table thead th:first-child { background: var(--light-orange); } /* “Name” or first header matches color */
.training-table thead th:hover { background: #f49c56; }

/* Body cells */
.training-table tbody td {
  white-space: nowrap; text-align: center; padding: 8px 10px;
  border-right: 1px solid var(--border); border-bottom: 1px solid var(--border);
  background: #fff;
}

/* Sticky first column (Name / first data col) */
.training-table tbody td:first-child {
  position: sticky; left: 0; z-index: 2;                      /* under header but over other cells */
  background: #fff;
  border-right: 1px solid var(--border);
}

/* Row striping */
.training-table tbody tr:nth-child(odd) { background: #fff; }
.training-table tbody tr:nth-child(even) { background: #fafafa; }
.training-table tbody tr:hover { background:#fff3eb; }

/* Inputs / selects INSIDE table cells */
.training-table input[type="text"],
.training-table select {
  width: 200px; padding: 6px 8px; font-size: 13px; font-family: inherit;
  border: 1px solid var(--border); border-radius: 8px; background:#f2f2f2; color: var(--ink);
  transition: border .2s, box-shadow .2s, background .2s;
}
.training-table input[type="text"]:hover,
.training-table select:hover { border-color: var(--light-orange); }
.training-table input[type="text"]:focus,
.training-table select:focus {
  border-color: var(--orange); box-shadow: 0 0 3px rgba(243,111,33,.4);
  outline: none; background: #fff9f5;
}

/* Checkbox before first text input (verification tick) */
.verify { accent-color: var(--orange); transform: scale(1.1); margin-right: 8px; }

/* Number column style (MPI) */
.row-number { width: 48px; font-weight: 700; color: var(--orange); text-align: center; }

/* Footer (connects to table border) */
.table-footer {
  width:100%; background:#fff;
  border-left:1px solid var(--border); border-right:1px solid var(--border); border-bottom:1px solid var(--border);
  border-top: none;
  border-radius: 0 0 var(--radius) var(--radius);
  text-align: left; padding: 8px 12px; margin-bottom: 25px; box-sizing: border-box;
}
.add-row {
  background: var(--orange); color:#fff; border:none; border-radius:50%;
  width: 24px; height: 24px; font-size:14px; cursor:pointer; transition:.2s;
}
.add-row:hover { background:#ff8b42; transform: scale(1.05); }

#resetMpiOrder {
  background:#fff3eb; color:var(--orange); border:1px solid var(--orange);
  border-radius:8px; padding:4px 10px; font-size:13px; cursor:pointer; transition:.2s; margin-right:8px;
}
#resetMpiOrder:hover { background: var(--orange); color:#fff; }

/* Right-edge fade (hint to scroll) */
.scroll-wrapper::after {
  content:""; position:absolute; top:0; right:0; bottom:0; width:30px; pointer-events:none;
  background: linear-gradient(to left, rgba(255,255,255,.95), transparent);
}

/* ==== Floating PDF Button ================================================ */
.floating-btn {
  position: fixed; top: 90px; right: 25px;
  background: var(--orange); color:#fff; border:none; border-radius: var(--radius);
  padding: 10px 18px; font-size: 14px; cursor: pointer; box-shadow: var(--shadow); transition: .2s;
}
.floating-btn:hover { background: #ff8848; }

/* ==== Responsive ========================================================== */
@media (max-width: 900px) {
  #sidebar { width: 150px; }
  main { margin-left: 150px; padding: 20px; }
}
@media (max-width: 600px) {
  #sidebar { display:none; }
  main { margin-left: 0; padding: 20px; }
  .training-table { min-width: 800px; }
  .scroll-wrapper { overflow-x: auto !important; }
}

/* ==== Small helper to ensure any stray tables get the same skin ========== */
table.training-table th, table.training-table td { box-sizing: border-box; }

