/* =======================================================
   myKaarma Interactive Training Checklist â€“ Stable Build
   Updated: November 7, 2025 (Post CEM & Dealership Edits)
   ======================================================= */

:root {
  --orange:#f36f21;
  --light-orange:#f8b17b;
  --gray-bg:#d7d7d7;
  --card-bg:#fff;
  --border:#dcdcdc;
  --ink:#222;
  --radius:16px;
  --shadow:0 2px 8px rgba(0,0,0,0.1);
}

/* === BASE === */
html,body{
  margin:0;
  font-family:"Roboto","Inter",system-ui,-apple-system,"Segoe UI",Helvetica,Arial,sans-serif;
  background:var(--gray-bg);
  color:var(--ink);
  overflow-x:hidden;
}

/* === TOP BAR === */
#topbar{
  background:linear-gradient(90deg,#000 0%,#333 100%);
  height:70px;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:30px;
  padding:0 40px;
  position:fixed;top:0;left:0;right:0;z-index:20;
  box-shadow:0 2px 10px rgba(0,0,0,0.25);
}
.top-logo{height:42px;object-fit:contain;}
#dealershipNameDisplay{color:#fff;font-size:18px;font-weight:600;letter-spacing:.5px;}

/* === APP === */
#app{display:flex;min-height:100vh;margin-top:70px;overflow-x:hidden;}
#sidebar{
  background:rgba(255,255,255,0.92);
  backdrop-filter:blur(6px);
  border-right:1px solid var(--border);
  width:190px;padding:20px 8px;
  box-shadow:var(--shadow);
  position:fixed;top:70px;bottom:0;
  overflow-y:auto;
}
nav{display:flex;flex-direction:column;gap:6px;}
.nav-btn{
  background:none;border:none;padding:10px 12px;
  font-size:14px;text-align:left;
  border-radius:var(--radius);
  cursor:pointer;transition:.2s;
  color:var(--ink);
}
.nav-btn:hover,.nav-btn.active{background:#fff3eb;color:var(--orange);font-weight:600;}
main{flex:1;margin-left:190px;padding:30px 40px;background:var(--gray-bg);box-sizing:border-box;}
.page-section{
  display:none;background:var(--card-bg);
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  padding:28px 32px;margin:0 auto 50px;
  width:100%;max-width:1250px;
}
.page-section.active{display:block;}
h1{color:var(--orange);margin-bottom:20px;font-size:24px;font-weight:700;}

/* === SECTION BLOCKS === */
.section{margin-bottom:35px;}
.section-header{
  background:var(--orange);color:#fff;
  font-weight:600;padding:10px 16px;
  border-radius:var(--radius) var(--radius) 0 0;
  font-size:16px;line-height:1.3;
}
.section-block{
  background:#fff;border-radius:var(--radius);
  box-shadow:var(--shadow);margin-bottom:25px;
  border:1px solid var(--border);
}
.section-block h2{
  background:var(--orange);color:#fff;
  margin:0;padding:10px 16px;
  font-size:15px;font-weight:600;
  border-radius:var(--radius) var(--radius) 0 0;
}

/* === CHECKLIST ROWS === */
.checklist-row{
  display:flex;justify-content:space-between;
  align-items:center;padding:10px 16px;
  border-top:1px solid var(--border);
}
.checklist-row label{
  flex:1;font-size:14px;padding-right:20px;
}
.checklist-row input,.checklist-row select{
  width:220px;padding:8px 10px;
  border-radius:10px;border:1px solid var(--border);
  background:#f4f4f4;
}

/* === INDENTED QUESTIONS === */
.indented{padding-left:40px;background:#fffdf9;}
.subcard{
  border:1px solid var(--border);
  border-radius:var(--radius);
  padding:10px 0;
  background:#fff;
  box-shadow:var(--shadow);
  margin:10px 16px;
}

/* === TEXTAREA === */
textarea{
  width:calc(100% - 32px);
  margin:16px;padding:12px;
  border-radius:12px;border:1px solid var(--border);
  background:#fafafa;resize:none;
  font-family:inherit;
}

/* === TABLES === */
.table-container{background:#fff;border:1px solid var(--border);
  border-radius:0;overflow:hidden;box-shadow:var(--shadow);margin:0;}
.scroll-wrapper{overflow:auto;max-height:340px;border-top:1px solid var(--border);
  border-bottom:1px solid var(--border);background:#fff;}
.training-table{border-collapse:collapse;width:max-content;min-width:100%;border-spacing:0;}
.training-table th,.training-table td{
  text-align:center;font-size:13px;padding:8px 10px;
  border-right:1px solid var(--border);
  border-bottom:1px solid var(--border);
  white-space:nowrap;
}
.training-table thead th{
  background:var(--light-orange);color:#fff;
  font-weight:600;position:sticky;top:0;z-index:3;
  border-bottom:2px solid #e89b61;
}
.training-table th:first-child,.training-table td:first-child{
  position:sticky;left:0;background:#fff;z-index:4;text-align:left;
  width:250px;min-width:250px;
}
.training-table thead th:first-child{
  background:var(--light-orange);color:#fff;
}
.training-table td:first-child{
  display:flex;align-items:center;gap:6px;
}
.training-table td:first-child input[type="checkbox"]{
  flex-shrink:0;transform:scale(1.1);
}
.training-table td:first-child input[type="text"]{
  flex:1;border:1px solid var(--border);
  border-radius:8px;background:#f4f4f4;
  padding:6px 8px;font-size:13px;
}
.training-table input[type="text"],.training-table select{
  width:100%;border:1px solid var(--border);
  border-radius:8px;background:#f2f2f2;
  padding:6px 8px;font-family:"Roboto",sans-serif;font-size:13px;
}
.training-table input[type="text"]:focus,.training-table select:focus{
  border-color:var(--orange);
  box-shadow:0 0 3px rgba(243,111,33,0.4);
  outline:none;background:#fff9f5;
}
.training-table tr:nth-child(odd){background:#fff;}
.training-table tr:nth-child(even){background:#fafafa;}
.table-footer{
  border-top:none;border-left:1px solid var(--border);
  border-right:1px solid var(--border);
  border-bottom:1px solid var(--border);
  background:#fff;display:flex;
  justify-content:flex-start;align-items:center;
  padding:8px 12px;border-radius:0 0 var(--radius) var(--radius);
}
.add-row{
  background:var(--orange);color:#fff;border:none;
  border-radius:50%;width:26px;height:26px;
  font-size:15px;font-weight:bold;cursor:pointer;
  box-shadow:0 2px 6px rgba(243,111,33,0.3);
}
.add-row:hover{background:#ff8b42;transform:scale(1.1);}

/* === FLOATING SAVE BUTTON === */
.floating-btn{
  position:fixed;top:90px;right:25px;
  background:var(--orange);color:#fff;
  border:none;border-radius:var(--radius);
  padding:10px 18px;font-size:14px;
  cursor:pointer;box-shadow:var(--shadow);
}
.floating-btn:hover{background:#ff8848;}

/* === ITALIC PARENS === */
label:has(span.small-note){font-style:italic;font-size:12px;color:#555;}

/* === RESPONSIVE === */
@media (max-width:900px){
  #sidebar{width:150px;}
  main{margin-left:150px;padding:20px;}
}
@media (max-width:600px){
  #sidebar{display:none;}
  main{margin-left:0;padding:20px;}
}
